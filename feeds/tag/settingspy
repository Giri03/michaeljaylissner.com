<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Michael Jay Lissner</title><link href="http://michaeljaylissner.com/" rel="alternate"></link><link href="http://michaeljaylissner.com/feeds/tag/settingspy" rel="self"></link><id>http://michaeljaylissner.com/</id><updated>2010-02-24T17:15:54+01:00</updated><entry><title>Using Revision Control on a Django Project Without Revealing Your Passwords</title><link href="http://michaeljaylissner.com/posts/2010/02/24/using-revision-control-on-a-django-project-without-revealing-your-passwords/" rel="alternate"></link><updated>2010-02-24T17:15:54+01:00</updated><author><name>Michael Lissner</name></author><id>tag:michaeljaylissner.com,2010-02-24:posts/2010/02/24/using-revision-control-on-a-django-project-without-revealing-your-passwords/</id><summary type="html">&lt;p&gt;Just a quick post today, since this took me way too long to figure out. If you have a django project that you want to share without sharing the private bits of settings.py, there is an easy way to do this. &lt;/p&gt;
&lt;p&gt;I tried for a while to to set up mercurial hooks that would strip out my passwords before each commit, and then place them back after each commit, thus avoiding uploading them publicly. This does not work however because all of the mercurial hooks happen after snapshots of the modified files have been made. So you can edit the files using a hook, but your edits will only go into effect upon the &lt;em&gt;&lt;strong&gt;next&lt;/strong&gt;&lt;/em&gt; check in. Clearly, this will not do.&lt;/p&gt;
&lt;p&gt;Another solution that I tried was the mercurial &lt;a href="http://mercurial.selenic.com/wiki/KeywordExtension" target="_blank"&gt;keyword extension&lt;/a&gt;. This could work, but ultimately it does not because you have to remember to run it before and after each commit &amp;mdash; something I know I'd forget sooner or later.&lt;/p&gt;
&lt;p&gt;The solution that &lt;em&gt;&lt;strong&gt;does&lt;/strong&gt;&lt;/em&gt; work is to split up your settings.py file into multiple pieces such that there is a private file and a public file. I followed the instructions &lt;a href="http://code.djangoproject.com/wiki/SplitSettings#UsingalistofconffilesTransifex" target="_blank"&gt;here&lt;/a&gt;, with the resulting code looking being checked in &lt;a href="http://bitbucket.org/mlissner/legal-current-awareness/src/fa5cc7fb9c0b/alert/settings.py" target="_blank"&gt;here&lt;/a&gt; and &lt;a href="http://bitbucket.org/mlissner/legal-current-awareness/src/fa5cc7fb9c0b/alert/settings/" target="_blank"&gt;here&lt;/a&gt;. There is also a file called "20-private.conf" which is not uploaded publicly, and which contains all the private bits of code that would normally be found in settings.py. Thus, all of my settings can be found my django, but I do not have to share my private ones.&lt;/p&gt;</summary><category term="settings.py"></category><category term="revision control"></category><category term="Python"></category><category term="mercurial"></category><category term="django"></category><category term="Final Project"></category></entry></feed>