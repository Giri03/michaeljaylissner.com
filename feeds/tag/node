<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Michael Jay Lissner</title><link href="http://mlissner.github.io/michaeljaylissner.com/" rel="alternate"></link><link href="http://mlissner.github.io/michaeljaylissner.com/feeds/tag/node" rel="self"></link><id>http://mlissner.github.io/michaeljaylissner.com/</id><updated>2012-12-27T11:20:36+01:00</updated><entry><title>Setting up etherpad with postgres on Windows</title><link href="http://mlissner.github.io/michaeljaylissner.com/posts/2012/12/27/install-etherpad-lite-with-postgres-on-windows/" rel="alternate"></link><updated>2012-12-27T11:20:36+01:00</updated><author><name>Michael Lissner</name></author><id>tag:mlissner.github.io,2012-12-27:michaeljaylissner.com/posts/2012/12/27/install-etherpad-lite-with-postgres-on-windows/</id><summary type="html">&lt;p&gt;There don't seem to be any successful installation instructions for postgres on Windows. It's not that hard, but there are a couple things you need to do. &lt;/p&gt;
&lt;p&gt;I haven't gone through these instructions to make sure they work, but this is roughly what I've done to get my Postgres/Windows/Node/Etherpad working together:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Install git&lt;/li&gt;
&lt;li&gt;Install node.js&lt;/li&gt;
&lt;li&gt;Install python&lt;ul&gt;
&lt;li&gt;add PYTHON as an env&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Install postgres&lt;ul&gt;
&lt;li&gt;add C:\Program Files\PostgreSQL\9.2\bin to your path&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Download etherpad-lite with git&lt;/li&gt;
&lt;li&gt;Run the etherpad-lite windows installer per the instructions&lt;/li&gt;
&lt;li&gt;start etherpad-lite&lt;ul&gt;
&lt;li&gt;make sure it works with the dirty DB before getting exotic&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Set up postgres&lt;ul&gt;
&lt;li&gt;npm install pg (will throw an error about msbuild version, but ignore that, the native JS drivers are installed)&lt;/li&gt;
&lt;li&gt;add a user using pgadmin&lt;/li&gt;
&lt;li&gt;add a DB using pgadmin and the user created a second ago&lt;/li&gt;
&lt;li&gt;reconfigure to use postgres in the settings.json file&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Run start.bat to make sure it works&lt;/li&gt;
&lt;li&gt;Turn down the log messages to only ERROR in the settings.json file.&lt;/li&gt;
&lt;li&gt;Use &lt;a href="http://nssm.cc/"&gt;NSSM&lt;/a&gt; to daemonize it, per the instructions &lt;a href="https://github.com/ether/etherpad-lite/wiki/How-to-deploy-Etherpad-Lite-as-a-service"&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note that NSSM doesn't yet have stdout and stderr redirection built in. Thus, to start the daemon with these working, you have to create a little script like this: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="k"&gt;ECHO&lt;/span&gt; &lt;span class="k"&gt;OFF&lt;/span&gt;
&lt;span class="p"&gt;@&lt;/span&gt;REM This runs etherpad with stdout and stderr getting redirected to special logs
&lt;span class="k"&gt;call&lt;/span&gt; D:\etherpad\etherpad-lite\start.bat &amp;gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;D&lt;/span&gt;:\etherpad\etherpad-lite\logs\stdout.log &lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;D&lt;/span&gt;:\etherpad\etherpad-lite\logs\stderr.log
&lt;/pre&gt;&lt;/div&gt;</summary><category term="windows"></category><category term="postgres"></category><category term="node"></category><category term="etherpad"></category></entry></feed>